(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{32:function(e,t,n){},36:function(e,t,n){e.exports=n(68)},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(15),c=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(10),o=n(33),s="GET_BEERS",u="GET_BEERS_ERROR",m="SAVE_SELECTED_BEER",p="SET_PAGE";var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object.assign({},e,{beers:(e.beers||[]).concat(t.payload.response),isNextPage:t.payload.isNextPage,beerDetails:{}});case m:return Object.assign({},e,{beerDetails:t.payload,isNextPage:void 0});case p:return Object.assign({},e,{pageNumber:t.payload});default:return Object.assign({},e,{isNextPage:void 0})}};var f=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,b=Object(l.d)(d,function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),f(Object(l.a)(o.a)));b.subscribe((function(){return function(e){try{var t=JSON.stringify(e);return localStorage.setItem("state",t)}catch(n){return}}(b.getState())}));var E=b,g=n(8),v=n(12),h=n(2);function w(){return r.a.createElement("div",null,r.a.createElement("p",null,"PUNK BEERS"))}var _=n(35),N=n(11),y=n.n(N),O=n(17),j=n(14),x=n.n(j);function P(e){return D.apply(this,arguments)}function D(){return(D=Object(O.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("/beers?page=".concat(t,"&per_page=10"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}x.a.defaults.baseURL="https://api.punkapi.com/v2/",x.a.defaults.baseURL="https://api.punkapi.com/v2/";n(32);var S=Object(g.b)(null)((function(e){var t=e.name,n=e.imgUrl,i=e.foodPairing,c=e.firstBrewed,l=e.description,o=e.dispatch,s=Object(h.f)(),u=Object(a.useRef)(null);return r.a.createElement("div",{className:"beer-list__item",ref:u},r.a.createElement(v.b,{to:"/detail"},r.a.createElement("img",{src:n,alt:"Beer",height:"250",className:"beer-list__item__img"})),r.a.createElement("div",{className:"beer-list__item_details"},r.a.createElement("p",null,t),r.a.createElement("button",{type:"button",className:"main__button",onClick:function(e){var a;e.preventDefault(),o((a={name:t,imgUrl:n,foodPairing:i,firstBrewed:c,description:l,position:{top:window.scrollY||window.pageYOffset,left:window.scrollX||window.pageXOffset}},{type:m,payload:a})),s.push("/detail")}},"Details")))}));function B(e){var t=e.beers,n=e.beerDetails,i=e.isNextPage,c=e.dispatch,l=e.pageNumber,o=Object(a.useState)(l),m=Object(_.a)(o,2),d=m[0],f=m[1],b=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current}(d);function E(){(b===d||t.length<1)&&c(function(e){return function(){var t=Object(O.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P(e);case 3:(a=t.sent).length>0?n({type:s,payload:{response:a,isNextPage:!0}}):n({type:s,payload:{response:a,isNextPage:!1}}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:u,payload:{data:t.t0,isNextPage:!1}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(l))}function g(){var e="innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight,t=document.getElementById("beer-list").getBoundingClientRect().bottom;if(Math.round(t)<=e+e/2&&(c(function(e){return{type:p,payload:e}}(l+1)),window.removeEventListener("scroll",g),!1===i)){var n=setTimeout((function(){window.scroll({top:0,left:0,behavior:"smooth"})}),4e3);return f(l),function(){return clearTimeout(n)}}}return Object(a.useEffect)((function(){return window.addEventListener("scroll",g,!0),function(){window.removeEventListener("scroll",g,!0)}})),Object(a.useEffect)((function(){return E()}),[l]),Object(a.useEffect)((function(){if(n&&n.position&&!0!==i)return window.scroll({top:n.position.top,left:n.position.left,behavior:"smooth"})||window.scrollTo(n.position.left,n.position.top)})),r.a.createElement("section",{className:"beer-list",id:"beer-list"},t.map((function(e){return r.a.createElement(S,{key:e.id,name:e.name,imgUrl:e.image_url,foodPairing:e.food_pairing,firstBrewed:e.first_brewed,description:e.description})})))}B.defaultProps={beers:[],pageNumber:1,isNextPage:void 0,beerDetails:{}};var R=Object(g.b)((function(e){return{beers:e.beers,beerDetails:e.beerDetails,isNextPage:e.isNextPage,pageNumber:e.pageNumber}}))(B);n(64);var k=function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"main__header"},r.a.createElement(w,null)),r.a.createElement("div",{className:"main__body"},r.a.createElement(R,null)))};var T=Object(g.b)((function(e){return{beerDetails:e.beerDetails}}),null)((function(e){var t=e.beerDetails;return r.a.createElement("div",{className:"left-details-section"},r.a.createElement("div",null,r.a.createElement("img",{src:t.imgUrl,alt:"Cinque Terre",height:"250"}),r.a.createElement("p",null,t.name)))}));n(65);var U=Object(g.b)((function(e){return{beerDetails:e.beerDetails}}),null)((function(e){var t=e.beerDetails,n=t.firstBrewed,a=t.description,i=(t.foodPairing||[]).join(),c=Object(h.f)();return r.a.createElement("div",{className:"right-details-section"},r.a.createElement("strong",null,"Brewed:"),r.a.createElement("p",null,n),r.a.createElement("strong",null," Description:"),r.a.createElement("p",null,a),r.a.createElement("strong",null,"Food Paring:"),r.a.createElement("p",null,"".concat(i.replace(/,/g,", "),".")),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("button",{type:"button",className:"main__button",style:{width:"200px",padding:"8px"},onClick:function(e){e.preventDefault(),c.push("/")}},"Beer list")))}));n(66);var L=function(){return r.a.createElement("div",{className:"beer-detail-page"},r.a.createElement("div",null,r.a.createElement(T,null)),r.a.createElement("div",null,r.a.createElement(U,null)))},C=function(e){var t=e.store;return r.a.createElement(g.a,{store:t},r.a.createElement(v.a,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"},r.a.createElement(k,null)),r.a.createElement(h.a,{exact:!0,path:"/detail"},r.a.createElement(L,null)))))};n(67);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,{store:E})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.c3853d40.chunk.js.map